package test;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;

public class RegexTest {

	public static void main(String[] args) throws ParseException {
		/*
		String text = "{ \"listprojectsresponse\" : { \"count\":2 ,\"project\" : [  {\"id\":\"2af49d99-4b49-4ea1-8b04-8606906d841d\",\"name\":\"Testing\",\"displaytext\":\"FG testing\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"account\":\"intern\",\"state\":\"Active\",\"tags\":[],\"networklimit\":\"20\",\"networktotal\":1,\"networkavailable\":\"19\",\"vpclimit\":\"20\",\"vpctotal\":0,\"vpcavailable\":\"20\",\"cpulimit\":\"40\",\"cputotal\":4,\"cpuavailable\":\"36\",\"memorylimit\":\"40960\",\"memorytotal\":6656,\"memoryavailable\":\"34304\",\"primarystoragelimit\":\"200\",\"primarystoragetotal\":140,\"primarystorageavailable\":\"60\",\"secondarystoragelimit\":\"400\",\"secondarystoragetotal\":0,\"secondarystorageavailable\":\"400\",\"vmlimit\":\"20\",\"vmtotal\":4,\"vmavailable\":\"16\",\"iplimit\":\"20\",\"iptotal\":7,\"ipavailable\":\"13\",\"volumelimit\":\"20\",\"volumetotal\":7,\"volumeavailable\":\"13\",\"snapshotlimit\":\"20\",\"snapshottotal\":0,\"snapshotavailable\":\"20\",\"templatelimit\":\"20\",\"templatetotal\":0,\"templateavailable\":\"20\",\"vmrunning\":4}, {\"id\":\"84ca429b-f3ed-4e84-9e38-e0fc718e7e4b\",\"name\":\"Deployment Pipeline\",\"displaytext\":\"Deployment Pipeline\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"account\":\"admin\",\"state\":\"Active\",\"tags\":[],\"networklimit\":\"20\",\"networktotal\":1,\"networkavailable\":\"19\",\"vpclimit\":\"20\",\"vpctotal\":0,\"vpcavailable\":\"20\",\"cpulimit\":\"40\",\"cputotal\":6,\"cpuavailable\":\"34\",\"memorylimit\":\"40960\",\"memorytotal\":10752,\"memoryavailable\":\"30208\",\"primarystoragelimit\":\"400\",\"primarystoragetotal\":260,\"primarystorageavailable\":\"140\",\"secondarystoragelimit\":\"400\",\"secondarystoragetotal\":0,\"secondarystorageavailable\":\"400\",\"vmlimit\":\"20\",\"vmtotal\":6,\"vmavailable\":\"14\",\"iplimit\":\"20\",\"iptotal\":7,\"ipavailable\":\"13\",\"volumelimit\":\"20\",\"volumetotal\":13,\"volumeavailable\":\"7\",\"snapshotlimit\":\"20\",\"snapshottotal\":0,\"snapshotavailable\":\"20\",\"templatelimit\":\"20\",\"templatetotal\":0,\"templateavailable\":\"20\",\"vmrunning\":6} ] } }";

		String patternString = "\"id\":\"(.+?)\"";

		Pattern pattern = Pattern.compile(patternString);
		Matcher matcher = pattern.matcher(text);

		while(matcher.find()) {
		    System.out.println("found: " + matcher.group(1));
		}
		*/
		String listLBText = "{ \"listloadbalancerrulesresponse\" : { \"count\":1 ,\"loadbalancerrule\" : [  {\"id\":\"bfa3765d-902c-4680-a948-d4cd69127fce\",\"name\":\"test1\",\"publicipid\":\"7ef75ede-6e1d-4753-a5a1-4434829ed04e\",\"publicip\":\"10.1.8.31\",\"publicport\":\"80\",\"privateport\":\"80\",\"algorithm\":\"roundrobin\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"cidrlist\":\"\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"state\":\"Add\",\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"tags\":[]} ] } }";
		String listLBProjectText = "{ \"listloadbalancerrulesresponse\" : { \"count\":1 ,\"loadbalancerrule\" : [  {\"id\":\"bfa3765d-902c-4680-a948-d4cd69127fce\",\"name\":\"test1\",\"publicipid\":\"7ef75ede-6e1d-4753-a5a1-4434829ed04e\",\"publicip\":\"10.1.8.31\",\"publicport\":\"80\",\"privateport\":\"80\",\"algorithm\":\"roundrobin\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"cidrlist\":\"\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"state\":\"Add\",\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"tags\":[]} ] } }";
		String lbPattern =  "count\":(\\d.*) ,\"loadbalancerrule\" : \\[(.*)] } }";
		String listLBProjectText2 = "{ \"listloadbalancerrulesresponse\" : { } }";
		String testText = "{ \"listloadbalancerrulesresponse\" : { \"count\":13 ,\"loadbalancerrule\" : [  {\"id\":\"bc101484-8e85-4066-8a5c-3d68f66b84b0\",\"name\":\"ProjectTest\",\"publicipid\":\"d4c499a2-c22e-476d-b37a-489f4125c4f0\",\"publicip\":\"10.1.8.33\",\"publicport\":\"80\",\"privateport\":\"80\",\"algorithm\":\"roundrobin\",\"networkid\":\"26c03592-3d42-40b7-a304-84a8f0b3911f\",\"cidrlist\":\"\",\"projectid\":\"2af49d99-4b49-4ea1-8b04-8606906d841d\",\"project\":\"Testing\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"state\":\"Active\",\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"tags\":[]} ] } }";
		String pat = "count\":(\\d.*) ,";
		String t1 = "{ \"listloadbalancerruleinstancesresponse\" : { \"count\":1 ,\"loadbalancerruleinstance\" : [  {\"id\":\"14ef526b-6e56-4438-b6ab-e3597dbaeb02\",\"name\":\"ChristestInstance2\",\"displayname\":\"ChristestInstance2\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"created\":\"2014-04-06T12:10:36-0700\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"zonename\":\"HQ_Zone_1\",\"hostid\":\"28c5bf08-3aeb-4f1d-85b5-da5490bac924\",\"hostname\":\"node101.hq.freightgate.com\",\"templateid\":\"81a5bc91-11fb-4ae0-beb4-f79ab680cc7a\",\"templatename\":\"CentOS 6.4(64-bit)\",\"templatedisplaytext\":\"minimal template\",\"passwordenabled\":false,\"serviceofferingid\":\"26833b40-4543-4547-a364-28c29d027313\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"0.01%\",\"networkkbsread\":23760,\"networkkbswrite\":17453,\"diskkbsread\":227905,\"diskkbswrite\":365688,\"diskioread\":17391,\"diskiowrite\":35809,\"guestosid\":\"c942ad2e-7b9e-11e3-aa16-0019b9b99151\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"f044c2a3-1ff3-4307-9156-b9de3fdf2168\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"networkname\":\"HQ_DEFAULT\",\"netmask\":\"255.255.255.0\",\"gateway\":\"10.4.8.1\",\"ipaddress\":\"10.4.8.171\",\"isolationuri\":\"vlan://607\",\"broadcasturi\":\"vlan://607\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:03:b4:00:12\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-63-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false} ] } }";
		String t2 = "{ \"listloadbalancerruleinstancesresponse\" : { \"count\":1 ,\"loadbalancerruleinstance\" : [  {\"id\":\"1111526b-6e56-4438-b6ab-e3597dbaeb02\",\"name\":\"ChristestInstance2\",\"displayname\":\"ChristestInstance2\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"created\":\"2014-04-06T12:10:36-0700\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"zonename\":\"HQ_Zone_1\",\"hostid\":\"28c5bf08-3aeb-4f1d-85b5-da5490bac924\",\"hostname\":\"node101.hq.freightgate.com\",\"templateid\":\"81a5bc91-11fb-4ae0-beb4-f79ab680cc7a\",\"templatename\":\"CentOS 6.4(64-bit)\",\"templatedisplaytext\":\"minimal template\",\"passwordenabled\":false,\"serviceofferingid\":\"26833b40-4543-4547-a364-28c29d027313\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"0.01%\",\"networkkbsread\":23760,\"networkkbswrite\":17453,\"diskkbsread\":227905,\"diskkbswrite\":365688,\"diskioread\":17391,\"diskiowrite\":35809,\"guestosid\":\"c942ad2e-7b9e-11e3-aa16-0019b9b99151\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"f044c2a3-1ff3-4307-9156-b9de3fdf2168\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"networkname\":\"HQ_DEFAULT\",\"netmask\":\"255.255.255.0\",\"gateway\":\"10.4.8.1\",\"ipaddress\":\"10.4.8.171\",\"isolationuri\":\"vlan://607\",\"broadcasturi\":\"vlan://607\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:03:b4:00:12\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-63-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false}, {\"id\":\"14ef526b-6e56-4438-b6ab-e3597dbaeb02\",\"name\":\"ChristestInstance2\",\"displayname\":\"ChristestInstance2\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"created\":\"2014-04-06T12:10:36-0700\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"zonename\":\"HQ_Zone_1\",\"hostid\":\"28c5bf08-3aeb-4f1d-85b5-da5490bac924\",\"hostname\":\"node101.hq.freightgate.com\",\"templateid\":\"81a5bc91-11fb-4ae0-beb4-f79ab680cc7a\",\"templatename\":\"CentOS 6.4(64-bit)\",\"templatedisplaytext\":\"minimal template\",\"passwordenabled\":false,\"serviceofferingid\":\"26833b40-4543-4547-a364-28c29d027313\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"0.02%\",\"networkkbsread\":23760,\"networkkbswrite\":17453,\"diskkbsread\":227905,\"diskkbswrite\":365688,\"diskioread\":17391,\"diskiowrite\":35809,\"guestosid\":\"c942ad2e-7b9e-11e3-aa16-0019b9b99151\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"f044c2a3-1ff3-4307-9156-b9de3fdf2168\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"networkname\":\"HQ_DEFAULT\",\"netmask\":\"255.255.255.0\",\"gateway\":\"10.4.8.1\",\"ipaddress\":\"10.4.8.171\",\"isolationuri\":\"vlan://607\",\"broadcasturi\":\"vlan://607\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:03:b4:00:12\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-63-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false} ] } }";
		//String instancePattern = "loadbalancerruleinstance\" : \\[  \\{\"id\":\"(.+?)\".*\"cpuused\":\"(.+?)%\"";
		//String instancePattern = "loadbalancerruleinstance\" : \\[  \\{\"id\":\"(.+?)\"";
		//String instancePattern = "\\{\"id\":\"(.+?)\",\"name\".*\"cpuused\":\"(.+?)%\".*\"nic\":\\[\\{\"id\"";
		String idPattern = "\"id\":\"(.{36}?)\",\"name\".*\"cpuused\":\"(.+?)%\"";
		String instancePattern = "\"id\":\"(.{36}?)\",\"name\":\"(.*?)\",\"displayname\":\"(.*?)\",\"account\":\"(.*?)\",\"domainid\":\"(.*?)\",\"domain\":\"(.*?)\",\"created\":\"(.*?)\",\"state\":\"(.*?)\",\"haenable\":(.*?),\"zoneid\":\"(.*?)\",\"zonename\":\"(.*?)\",\"hostid\":\"(.*?)\",\"hostname\":\"(.*?)\",\"templateid\":\"(.*?)\",\"templatename\":\"(.*?)\",\"templatedisplaytext\":\"(.*?)\",\"passwordenabled\":(.*?),\"serviceofferingid\":\"(.*?)\",\"serviceofferingname\":\"(.*?)\",\"cpunumber\":(.*?),\"cpuspeed\":(.*?),\"memory\":(.*?),\"cpuused\":\"(.*?)%\"";
		String instancePattern2 = "\"id\":\"(.{36}?)\",\"name\"(.*)\"cpuused\":\"(.*?)";
		String splitString = "c3153819-f59d-48c7-933d-36ff89fda300=81a5bc91-11fb-4ae0-beb4-f79ab680cc7a|26833b40-4543-4547-a364-28c29d027313|3|5|30|10|10|10|10";
		String t3 = "{ \"listloadbalancerruleinstancesresponse\" : { \"count\":3 ,\"loadbalancerruleinstance\" : [  {\"id\":\"14ef526b-6e56-4438-b6ab-e3597dbaeb02\",\"name\":\"ChristestInstance2\",\"displayname\":\"ChristestInstance2\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"created\":\"2014-04-06T12:10:36-0700\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"zonename\":\"HQ_Zone_1\",\"hostid\":\"28c5bf08-3aeb-4f1d-85b5-da5490bac924\",\"hostname\":\"node101.hq.freightgate.com\",\"templateid\":\"81a5bc91-11fb-4ae0-beb4-f79ab680cc7a\",\"templatename\":\"CentOS 6.4(64-bit)\",\"templatedisplaytext\":\"minimal template\",\"passwordenabled\":false,\"serviceofferingid\":\"26833b40-4543-4547-a364-28c29d027313\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"0.01%\",\"networkkbsread\":90005,\"networkkbswrite\":46788,\"diskkbsread\":228993,\"diskkbswrite\":654000,\"diskioread\":17446,\"diskiowrite\":92682,\"guestosid\":\"c942ad2e-7b9e-11e3-aa16-0019b9b99151\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"f044c2a3-1ff3-4307-9156-b9de3fdf2168\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"networkname\":\"HQ_DEFAULT\",\"netmask\":\"255.255.255.0\",\"gateway\":\"10.4.8.1\",\"ipaddress\":\"10.4.8.171\",\"isolationuri\":\"vlan://607\",\"broadcasturi\":\"vlan://607\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:03:b4:00:12\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-63-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false}, {\"id\":\"9005d8b0-dedd-4bb5-8910-5a731284b52b\",\"name\":\"ChrisTestInstance\",\"displayname\":\"ChrisTestInstance\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"created\":\"2014-02-05T08:00:40-0800\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"zonename\":\"HQ_Zone_1\",\"hostid\":\"28c5bf08-3aeb-4f1d-85b5-da5490bac924\",\"hostname\":\"node101.hq.freightgate.com\",\"templateid\":\"81a5bc91-11fb-4ae0-beb4-f79ab680cc7a\",\"templatename\":\"CentOS 6.4(64-bit)\",\"templatedisplaytext\":\"minimal template\",\"passwordenabled\":false,\"serviceofferingid\":\"26833b40-4543-4547-a364-28c29d027313\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"0.03%\",\"networkkbsread\":128949,\"networkkbswrite\":17138,\"diskkbsread\":269059,\"diskkbswrite\":966817,\"diskioread\":17182,\"diskiowrite\":134958,\"guestosid\":\"c942ad2e-7b9e-11e3-aa16-0019b9b99151\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"486e9d7e-b32c-4250-9354-9299d2fe93c5\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"networkname\":\"HQ_DEFAULT\",\"netmask\":\"255.255.255.0\",\"gateway\":\"10.4.8.1\",\"ipaddress\":\"10.4.8.174\",\"isolationuri\":\"vlan://607\",\"broadcasturi\":\"vlan://607\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:2d:37:00:0c\"}],\"hypervisor\":\"KVM\",\"publicipid\":\"cfeafb8f-dee1-4ead-b139-ce36b629521a\",\"publicip\":\"10.1.8.24\",\"instancename\":\"i-2-50-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false}, {\"id\":\"66d1aa1a-0458-4754-aa81-720d55eb97d1\",\"name\":\"66d1aa1a-0458-4754-aa81-720d55eb97d1\",\"account\":\"admin\",\"domainid\":\"c4b7fb88-7b9e-11e3-aa16-0019b9b99151\",\"domain\":\"ROOT\",\"created\":\"2014-04-17T10:23:07-0700\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"6b295480-ffd5-4aad-873c-d56861aeb823\",\"zonename\":\"HQ_Zone_1\",\"hostid\":\"1663c759-0969-4f3b-b35b-3871977f1b58\",\"hostname\":\"node103.hq.freightgate.com\",\"templateid\":\"81a5bc91-11fb-4ae0-beb4-f79ab680cc7a\",\"templatename\":\"CentOS 6.4(64-bit)\",\"templatedisplaytext\":\"minimal template\",\"passwordenabled\":false,\"serviceofferingid\":\"26833b40-4543-4547-a364-28c29d027313\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"0.01%\",\"networkkbsread\":22,\"networkkbswrite\":17,\"diskkbsread\":89455,\"diskkbswrite\":4578,\"diskioread\":4040,\"diskiowrite\":430,\"guestosid\":\"c942ad2e-7b9e-11e3-aa16-0019b9b99151\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"ee66291d-98bb-4788-8359-86b1e1e036fe\",\"networkid\":\"79c7a720-02a1-46cb-982c-0f185600a4d6\",\"networkname\":\"HQ_DEFAULT\",\"netmask\":\"255.255.255.0\",\"gateway\":\"10.4.8.1\",\"ipaddress\":\"10.4.8.92\",\"isolationuri\":\"vlan://607\",\"broadcasturi\":\"vlan://607\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:26:97:00:24\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-82-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false} ] } }";
		String lb = "{\"id\":\"4e74b513-d48e-4a82-8f24-b4fb9fe09f63\",\"name\":\"testLB1\",\"publicipid\":\"6b05ce9e-5aa7-4df8-9e01-59eaa40dddcc\",\"publicip\":\"141.19.142.30\",\"publicport\":\"80\",\"privateport\":\"80\",\"algorithm\":\"roundrobin\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"cidrlist\":\"\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"state\":\"Active\",\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"tags\":[]}, {\"id\":\"0d64808a-454e-40ba-b6ed-a01863fbaf65\",\"name\":\"testLB2\",\"publicipid\":\"6b7cd26c-794d-4ca6-8588-bf7ad0acea1d\",\"publicip\":\"141.19.142.31\",\"publicport\":\"80\",\"privateport\":\"80\",\"algorithm\":\"roundrobin\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"cidrlist\":\"\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"state\":\"Active\",\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"tags\":[]}";
		String lbpat = "\"id\":\"(.{36}?)\"";
		String instancePattern3 = "\"id\":\"(.*?)\"(.*)\"cpuused\":\"(.*?)\"";
		String lbString = "{ \"listloadbalancerruleinstancesresponse\" : { \"count\":2 ,\"loadbalancerruleinstance\" : [  {\"id\":\"e25c8be4-bc12-401a-928f-3d4bb1bb52dc\",\"name\":\"TestInstance\",\"displayname\":\"TestInstance\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"created\":\"2014-07-21T07:42:35+0200\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"zonename\":\"HS_ZONE_1\",\"hostid\":\"d79fa9df-ba72-4996-aa07-451017f3e153\",\"hostname\":\"node1.cloudstack.hscloud\",\"templateid\":\"8364d7c0-b422-11e3-8248-001b788185be\",\"templatename\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"templatedisplaytext\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"passwordenabled\":false,\"serviceofferingid\":\"7633438e-3ba5-456f-ac55-d347800eb6c6\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"13.73%\",\"networkkbsread\":5800,\"networkkbswrite\":8708,\"diskkbsread\":1692,\"diskkbswrite\":79464,\"diskioread\":99,\"diskiowrite\":9998,\"guestosid\":\"86c0f624-b422-11e3-8248-001b788185be\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"0bdbf0fd-4ed1-464b-8078-8a0eba11a856\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"networkname\":\"HSNETWORK01\",\"netmask\":\"255.255.255.0\",\"gateway\":\"192.168.2.1\",\"ipaddress\":\"192.168.2.140\",\"isolationuri\":\"vlan://570\",\"broadcasturi\":\"vlan://570\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:44:86:00:01\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-10-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false}, {\"id\":\"4cbb831d-5e54-4e07-a868-034af7196e82\",\"name\":\"4cbb831d-5e54-4e07-a868-034af7196e82\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"created\":\"2014-09-09T08:28:33+0200\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"zonename\":\"HS_ZONE_1\",\"hostid\":\"d79fa9df-ba72-4996-aa07-451017f3e153\",\"hostname\":\"node1.cloudstack.hscloud\",\"templateid\":\"8364d7c0-b422-11e3-8248-001b788185be\",\"templatename\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"templatedisplaytext\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"passwordenabled\":false,\"serviceofferingid\":\"7633438e-3ba5-456f-ac55-d347800eb6c6\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"10.36%\",\"networkkbsread\":5,\"networkkbswrite\":11,\"diskkbsread\":132397,\"diskkbswrite\":13302,\"diskioread\":3518,\"diskiowrite\":1280,\"guestosid\":\"86c0f624-b422-11e3-8248-001b788185be\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"d3e8874c-eb52-4dbe-a1b7-cdc7c35b8515\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"networkname\":\"HSNETWORK01\",\"netmask\":\"255.255.255.0\",\"gateway\":\"192.168.2.1\",\"ipaddress\":\"192.168.2.135\",\"isolationuri\":\"vlan://570\",\"broadcasturi\":\"vlan://570\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:52:41:00:05\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-14-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false} ] } }";
		String lbString2 = "{ \"listloadbalancerruleinstancesresponse\" : { \"count\":2 ,\"loadbalancerruleinstance\" : [  {\"id\":\"9f73a6f0-ead5-4de3-9806-8fa742b8daee\",\"name\":\"9f73a6f0-ead5-4de3-9806-8fa742b8daee\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"created\":\"2014-09-17T06:38:11+0200\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"zonename\":\"HS_ZONE_1\",\"hostid\":\"1be0dcb1-efbb-4a56-94a8-8bb27c6e6751\",\"hostname\":\"node2.cloudstack.hscloud\",\"templateid\":\"8364d7c0-b422-11e3-8248-001b788185be\",\"templatename\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"templatedisplaytext\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"passwordenabled\":false,\"serviceofferingid\":\"f5593dd3-0ccf-4ce0-a7e6-f1c5791c51b2\",\"serviceofferingname\":\"Medium Instance\",\"cpunumber\":1,\"cpuspeed\":1000,\"memory\":1024,\"cpuused\":\"37.2%\",\"networkkbsread\":5,\"networkkbswrite\":3,\"diskkbsread\":124122,\"diskkbswrite\":11258,\"diskioread\":3140,\"diskiowrite\":1111,\"guestosid\":\"86c0f624-b422-11e3-8248-001b788185be\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"be288e4a-559c-4192-893b-acdbdb830137\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"networkname\":\"HSNETWORK01\",\"netmask\":\"255.255.255.0\",\"gateway\":\"192.168.2.1\",\"ipaddress\":\"192.168.2.91\",\"isolationuri\":\"vlan://570\",\"broadcasturi\":\"vlan://570\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:1c:f8:00:0c\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-21-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false}, {\"id\":\"e25c8be4-bc12-401a-928f-3d4bb1bb52dc\",\"name\":\"TestInstance\",\"displayname\":\"TestInstance\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"created\":\"2014-07-21T07:42:35+0200\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"zonename\":\"HS_ZONE_1\",\"hostid\":\"d79fa9df-ba72-4996-aa07-451017f3e153\",\"hostname\":\"node1.cloudstack.hscloud\",\"templateid\":\"8364d7c0-b422-11e3-8248-001b788185be\",\"templatename\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"templatedisplaytext\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"passwordenabled\":false,\"serviceofferingid\":\"7633438e-3ba5-456f-ac55-d347800eb6c6\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"12.84%\",\"networkkbsread\":51360,\"networkkbswrite\":77010,\"diskkbsread\":1821,\"diskkbswrite\":715352,\"diskioread\":125,\"diskiowrite\":88549,\"guestosid\":\"86c0f624-b422-11e3-8248-001b788185be\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"0bdbf0fd-4ed1-464b-8078-8a0eba11a856\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"networkname\":\"HSNETWORK01\",\"netmask\":\"255.255.255.0\",\"gateway\":\"192.168.2.1\",\"ipaddress\":\"192.168.2.140\",\"isolationuri\":\"vlan://570\",\"broadcasturi\":\"vlan://570\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:44:86:00:01\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-10-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false} ] } }";
		String allPattern = "\"id\":\"(.{36}?)\",\"name\":\"(.*?)\",\"displayname\":\"(.*?)\",\"account\":\"(.*?)\",\"domainid\":\"(.*?)\",\"domain\":\"(.*?)\",\"created\":\"(.*?)\",\"state\":\"(.*?)\",\"haenable\":(.*?),\"zoneid\":\"(.*?)\",\"zonename\":\"(.*?)\",\"hostid\":\"(.*?)\",\"hostname\":\"(.*?)\",\"templateid\":\"(.*?)\",\"templatename\":\"(.*?)\",\"templatedisplaytext\":\"(.*?)\",\"passwordenabled\":(.*?),\"serviceofferingid\":\"(.*?)\",\"serviceofferingname\":\"(.*?)\",\"cpunumber\":(.*?),\"cpuspeed\":(.*?),\"memory\":(.*?),\"cpuused\":\"(.*?)%\"";
		String response = "{ \"listloadbalancerruleinstancesresponse\" : { \"count\":2 ,\"loadbalancerruleinstance\" : [  {\"id\":\"e25c8be4-bc12-401a-928f-3d4bb1bb52dc\",\"name\":\"TestInstance\",\"displayname\":\"TestInstance\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"created\":\"2014-07-21T07:42:35+0200\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"zonename\":\"HS_ZONE_1\",\"hostid\":\"d79fa9df-ba72-4996-aa07-451017f3e153\",\"hostname\":\"node1.cloudstack.hscloud\",\"templateid\":\"8364d7c0-b422-11e3-8248-001b788185be\",\"templatename\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"templatedisplaytext\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"passwordenabled\":false,\"serviceofferingid\":\"7633438e-3ba5-456f-ac55-d347800eb6c6\",\"serviceofferingname\":\"Small Instance\",\"cpunumber\":1,\"cpuspeed\":500,\"memory\":512,\"cpuused\":\"13.87%\",\"networkkbsread\":51618,\"networkkbswrite\":77364,\"diskkbsread\":1821,\"diskkbswrite\":718356,\"diskioread\":125,\"diskiowrite\":88948,\"guestosid\":\"86c0f624-b422-11e3-8248-001b788185be\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"0bdbf0fd-4ed1-464b-8078-8a0eba11a856\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"networkname\":\"HSNETWORK01\",\"netmask\":\"255.255.255.0\",\"gateway\":\"192.168.2.1\",\"ipaddress\":\"192.168.2.140\",\"isolationuri\":\"vlan://570\",\"broadcasturi\":\"vlan://570\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:44:86:00:01\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-10-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false}, {\"id\":\"ec3d3249-a6c3-4da5-b596-92ab322c06c5\",\"name\":\"ec3d3249-a6c3-4da5-b596-92ab322c06c5\",\"account\":\"admin\",\"domainid\":\"832e8eb8-b422-11e3-8248-001b788185be\",\"domain\":\"ROOT\",\"created\":\"2014-09-17T07:39:06+0200\",\"state\":\"Running\",\"haenable\":false,\"zoneid\":\"b2d5872b-ebf6-4260-9970-2bc7939df91a\",\"zonename\":\"HS_ZONE_1\",\"hostid\":\"1be0dcb1-efbb-4a56-94a8-8bb27c6e6751\",\"hostname\":\"node2.cloudstack.hscloud\",\"templateid\":\"8364d7c0-b422-11e3-8248-001b788185be\",\"templatename\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"templatedisplaytext\":\"CentOS 5.5(64-bit) no GUI (KVM)\",\"passwordenabled\":false,\"serviceofferingid\":\"f5593dd3-0ccf-4ce0-a7e6-f1c5791c51b2\",\"serviceofferingname\":\"Medium Instance\",\"cpunumber\":1,\"cpuspeed\":1000,\"memory\":1024,\"guestosid\":\"86c0f624-b422-11e3-8248-001b788185be\",\"rootdeviceid\":0,\"rootdevicetype\":\"ROOT\",\"securitygroup\":[],\"nic\":[{\"id\":\"fc2278cf-e582-4342-8f1d-8835608f5aad\",\"networkid\":\"d08c4a40-3b29-41b9-b829-247b948838fd\",\"networkname\":\"HSNETWORK01\",\"netmask\":\"255.255.255.0\",\"gateway\":\"192.168.2.1\",\"ipaddress\":\"192.168.2.160\",\"isolationuri\":\"vlan://570\",\"broadcasturi\":\"vlan://570\",\"traffictype\":\"Guest\",\"type\":\"Isolated\",\"isdefault\":true,\"macaddress\":\"02:00:72:a9:00:11\"}],\"hypervisor\":\"KVM\",\"instancename\":\"i-2-26-VM\",\"tags\":[],\"affinitygroup\":[],\"displayvm\":true,\"isdynamicallyscalable\":false} ] } }";
		String IDPAT = "\"id\":\"(.{36}?)\",\"name\"";
		String CPUPAT = "\"cpuused\":\"(.*?)\"";
		
		/*
		Pattern pattern = Pattern.compile(instancePattern3);
		Matcher matcher = pattern.matcher(response);

		while(matcher.find()) {
			System.out.println(matcher.group(1) +" : "+ matcher.group(3));
		}
		*/
		
		String jobResult = "{ \"queryasyncjobresultresponse\" : {\"accountid\":\"d33fe7ee-b422-11e3-8248-001b788185be\",\"userid\":\"d3451480-b422-11e3-8248-001b788185be\",\"cmd\":\"org.apache.cloudstack.api.command.user.loadbalancer.AssignToLoadBalancerRuleCmd\",\"jobstatus\":0,\"jobprocstatus\":0,\"jobresultcode\":0,\"created\":\"2014-09-20T07:56:04+0200\",\"jobid\":\"9e81b806-78fe-4a1c-a50d-2b149b931153\"} }";
		
		JSONObject lbResponse = (JSONObject)new JSONParser().parse(jobResult);
		JSONObject j1 = (JSONObject) lbResponse.get("assigntoloadbalancerruleresponse");
		System.out.println(j1.get("jobid"));
		
		/*
		for(Object obj : j2) {
			JSONObject json = (JSONObject) obj;
			String cpuUsed =  json.get("cpuused") != null ? ((String)json.get("cpuused")).replace("%", "") : "0.00";

			System.out.println(json.get("id") +" : "+ cpuUsed);
		}
		*/
		/*
		String[] policy = splitString.split("\\|");
		String policyString = "";
		for(String tmp : policy) {
			policyString += tmp+",";
		}
		System.out.println("Policy: "+policyString);
		*/
		
		//ArrayList<String> idList = new ArrayList<String>();
		//ArrayList<String> cpuList = new ArrayList<String>();
		
		//Map<String, String> instances = new HashMap<String, String>();
		
		/*
		// Get IDs
		Pattern pattern = Pattern.compile(instancePattern);
		Matcher matcher = pattern.matcher(response);

		while(matcher.find()) {
			idList.add(matcher.group(1));
		}
		
		// Get CPUs
		pattern = Pattern.compile(CPUPAT);
		matcher = pattern.matcher(response);

		while(matcher.find()) {
			cpuList.add(matcher.group(1));
		}
		
		// Merge id and cpu
		for(int i=0; i<idList.size(); i++) {
			instances.put(idList.get(i), cpuList.get(i));
		}
		
		System.out.println(instances);*/
		
		/*
		// Get IDs
		Pattern pattern = Pattern.compile(IDPAT);
		Matcher matcher = pattern.matcher(response);

		LinkedList<String> list = new LinkedList<String>();
		while(matcher.find()) {
			    list.add(matcher.group(1));
		}
		
		// Get CPU usage
		pattern = Pattern.compile(CPUPAT);
		matcher = pattern.matcher(lbString2);

		LinkedList<String> list2 = new LinkedList<String>();
		while(matcher.find()) {
			    list2.add(matcher.group(1));
		}
		
		// Merge id and cpu
		for(int i=0; i<list.size(); i++) {
			instances.put(list.get(i), list2.get(i));
		}
		
		System.out.println(instances.toString());*/
/*
		String result = lb;
		for(String tmp : list) {
			 result = result.replace(tmp, tmp+"\",\"autoscaler\":\"active");
		}

		System.out.println(lb);
		System.out.println(result);
		*/
	}

}
